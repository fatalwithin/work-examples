Неделя с 22.04 по 26.04

Задачи по K8S
	- выкатить бота в Кубер (7 контейнера) до 26.04
		- Postgres
		- RabbitMQ
		- Prepare (Python) --отрабатывает и гасится, собирая статику
		- Celery (Python)
		- Web (Python)
		- Bot (Python)
		- Nginx --проксирует запросы на Web
	- попробовать интегрировать с Gitlab CI
		- нет смысла его изучать вне K8S
		- Gitlab CI умеет с k8s работать из коробки
		- Jenkins - через плагин, работу которого тоже надо изучать
		- минимальные стадии - Build и Deploy. Стадии Test пока нет
	- 

Проблемы на текущий момент
	- все контейнеры django обращаются к одним и тем же томам (по дизайну приложения) - работают с одними и теми же данными, а Amazon Storage Class - блочное хранение, и оно не позволяет монтировать тома одновременно для нескольких ВМ или контейнеров. Нужна разделяемая файловая система.
	- Можно попробовать Amazon EFS прикрутить к EKS, но поддержки со стороны Amazon не будет 
	- Есть вариант интегрировать с GlusterFS, так как с этой ФС уже есть практика работы. (приоритетный вариант)
		- Gluster можно самим отмасштабировать под нужные требования производительности
		-  
	?- Какие персистентные данные хранит бот?
	?- Зачем нужен Nginx? Чтобы терминировать SSL, и чтобы балансировать запросы внутри namespace
	- будут использоваться как ELB, так и внутренние балансеры
		- под ELB - ингресс-контроллер, который может маршрутизировать как по субдоменам, так и по директориям внутри домена. (по сути IC - это допиленный nginx, конфиги у него совместимы с /etc/conf.d/nginx.conf)
		- Можно обойтись и одним ELB с кучей доменов. 

	- кластер Кубера развернут в Огайо. Руками перетащить надо в Европу. В Огайо потому, что иначе не работают шаблоны.
		- чем больше развертывается в Огайо, тем более мы привязываемся к этой AZ
			- роли
			- policy
			- учетки
			- данные
			- шаблоны

	- Нужно все изменения делать в YAML, чтобы легче было переносить и воссоздать конфигурацию.